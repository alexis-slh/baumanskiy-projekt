<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢—Ä–µ–Ω–∞–∂–µ—Ä –ø–æ –∑–∞—â–∏—Ç–µ –æ—Ç —Ñ–∏—à–∏–Ω–≥–∞</title>
    <style>
        :root {
  --color-white: rgba(255, 255, 255, 1);
  --color-black: rgba(0, 0, 0, 1);
  --color-cream-50: rgba(252, 252, 249, 1);
  --color-cream-100: rgba(255, 255, 253, 1);
  --color-gray-200: rgba(245, 245, 245, 1);
  --color-gray-300: rgba(167, 169, 169, 1);
  --color-gray-400: rgba(119, 124, 124, 1);
  --color-slate-500: rgba(98, 108, 113, 1);
  --color-brown-600: rgba(94, 82, 64, 1);
  --color-charcoal-700: rgba(31, 33, 33, 1);
  --color-charcoal-800: rgba(38, 40, 40, 1);
  --color-slate-900: rgba(19, 52, 59, 1);
  --color-teal-300: rgba(50, 184, 198, 1);
  --color-teal-400: rgba(45, 166, 178, 1);
  --color-teal-500: rgba(33, 128, 141, 1);
  --color-teal-600: rgba(29, 116, 128, 1);
  --color-teal-700: rgba(26, 104, 115, 1);
  --color-teal-800: rgba(41, 150, 161, 1);
  --color-red-400: rgba(255, 84, 89, 1);
  --color-red-500: rgba(192, 21, 47, 1);
  --color-orange-400: rgba(230, 129, 97, 1);
  --color-orange-500: rgba(168, 75, 47, 1);
  --color-brown-600-rgb: 94, 82, 64;
  --color-teal-500-rgb: 33, 128, 141;
  --color-slate-900-rgb: 19, 52, 59;
  --color-slate-500-rgb: 98, 108, 113;
  --color-red-500-rgb: 192, 21, 47;
  --color-red-400-rgb: 255, 84, 89;
  --color-orange-500-rgb: 168, 75, 47;
  --color-orange-400-rgb: 230, 129, 97;
  --color-bg-1: rgba(59, 130, 246, 0.08);
  --color-bg-2: rgba(245, 158, 11, 0.08);
  --color-bg-3: rgba(34, 197, 94, 0.08);
  --color-bg-4: rgba(239, 68, 68, 0.08);
  --color-bg-5: rgba(147, 51, 234, 0.08);
  --color-bg-6: rgba(249, 115, 22, 0.08);
  --color-bg-7: rgba(236, 72, 153, 0.08);
  --color-bg-8: rgba(6, 182, 212, 0.08);
  --color-background: var(--color-cream-50);
  --color-surface: var(--color-cream-100);
  --color-text: var(--color-slate-900);
  --color-text-secondary: var(--color-slate-500);
  --color-primary: var(--color-teal-500);
  --color-primary-hover: var(--color-teal-600);
  --color-primary-active: var(--color-teal-700);
  --color-secondary: rgba(var(--color-brown-600-rgb), 0.12);
  --color-secondary-hover: rgba(var(--color-brown-600-rgb), 0.2);
  --color-secondary-active: rgba(var(--color-brown-600-rgb), 0.25);
  --color-border: rgba(var(--color-brown-600-rgb), 0.2);
  --color-btn-primary-text: var(--color-cream-50);
  --color-card-border: rgba(var(--color-brown-600-rgb), 0.12);
  --color-card-border-inner: rgba(var(--color-brown-600-rgb), 0.12);
  --color-error: var(--color-red-500);
  --color-success: var(--color-teal-500);
  --color-warning: var(--color-orange-500);
  --color-info: var(--color-slate-500);
  --color-focus-ring: rgba(var(--color-teal-500-rgb), 0.4);
  --color-select-caret: rgba(var(--color-slate-900-rgb), 0.8);
  --focus-ring: 0 0 0 3px var(--color-focus-ring);
  --focus-outline: 2px solid var(--color-primary);
  --font-family-base: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
  --font-size-sm: 12px;
  --font-size-base: 14px;
  --font-size-md: 14px;
  --font-size-lg: 16px;
  --font-size-xl: 18px;
  --font-size-2xl: 20px;
  --font-size-3xl: 24px;
  --font-size-4xl: 30px;
  --font-weight-normal: 400;
  --font-weight-medium: 500;
  --font-weight-semibold: 550;
  --font-weight-bold: 600;
  --line-height-tight: 1.2;
  --line-height-normal: 1.5;
  --space-4: 4px;
  --space-8: 8px;
  --space-12: 12px;
  --space-16: 16px;
  --space-20: 20px;
  --space-24: 24px;
  --space-32: 32px;
  --radius-sm: 6px;
  --radius-base: 8px;
  --radius-md: 10px;
  --radius-lg: 12px;
  --radius-full: 9999px;
  --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.04), 0 1px 2px rgba(0, 0, 0, 0.02);
  --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.04), 0 2px 4px -1px rgba(0, 0, 0, 0.02);
  --duration-fast: 150ms;
  --duration-normal: 250ms;
  --ease-standard: cubic-bezier(0.16, 1, 0.3, 1);
}

@media (prefers-color-scheme: dark) {
  :root {
    --color-gray-400-rgb: 119, 124, 124;
    --color-teal-300-rgb: 50, 184, 198;
    --color-gray-300-rgb: 167, 169, 169;
    --color-gray-200-rgb: 245, 245, 245;
    --color-bg-1: rgba(29, 78, 216, 0.15);
    --color-bg-2: rgba(180, 83, 9, 0.15);
    --color-bg-3: rgba(21, 128, 61, 0.15);
    --color-bg-4: rgba(185, 28, 28, 0.15);
    --color-bg-5: rgba(107, 33, 168, 0.15);
    --color-bg-6: rgba(194, 65, 12, 0.15);
    --color-bg-7: rgba(190, 24, 93, 0.15);
    --color-bg-8: rgba(8, 145, 178, 0.15);
    --color-background: var(--color-charcoal-700);
    --color-surface: var(--color-charcoal-800);
    --color-text: var(--color-gray-200);
    --color-text-secondary: rgba(var(--color-gray-300-rgb), 0.7);
    --color-primary: var(--color-teal-300);
    --color-primary-hover: var(--color-teal-400);
    --color-primary-active: var(--color-teal-800);
    --color-secondary: rgba(var(--color-gray-400-rgb), 0.15);
    --color-secondary-hover: rgba(var(--color-gray-400-rgb), 0.25);
    --color-secondary-active: rgba(var(--color-gray-400-rgb), 0.3);
    --color-border: rgba(var(--color-gray-400-rgb), 0.3);
    --color-error: var(--color-red-400);
    --color-success: var(--color-teal-300);
    --color-warning: var(--color-orange-400);
    --color-info: var(--color-gray-300);
    --color-focus-ring: rgba(var(--color-teal-300-rgb), 0.4);
    --color-btn-primary-text: var(--color-slate-900);
    --color-card-border: rgba(var(--color-gray-400-rgb), 0.2);
    --color-card-border-inner: rgba(var(--color-gray-400-rgb), 0.15);
  }
}

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: var(--font-family-base);
    background-color: var(--color-background);
    color: var(--color-text);
    line-height: var(--line-height-normal);
    font-size: var(--font-size-base);
}

.app-container {
    max-width: 800px;
    margin: 0 auto;
    padding: var(--space-16);
    min-height: 100vh;
}

.screen {
    display: none;
    animation: fadeIn 0.3s ease-in;
}

.screen.active {
    display: block;
}

@keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
}

.header {
    text-align: center;
    padding: var(--space-24) 0;
    border-bottom: 2px solid var(--color-border);
    margin-bottom: var(--space-24);
}

.header h1 {
    font-size: var(--font-size-4xl);
    font-weight: var(--font-weight-bold);
    color: var(--color-primary);
    margin-bottom: var(--space-8);
}

.header p {
    color: var(--color-text-secondary);
    font-size: var(--font-size-lg);
}

.nav-buttons {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
    gap: var(--space-16);
    margin-bottom: var(--space-24);
}

.nav-button {
    background: var(--color-surface);
    border: 1px solid var(--color-card-border);
    border-radius: var(--radius-lg);
    padding: var(--space-24);
    text-align: center;
    cursor: pointer;
    transition: all var(--duration-normal) var(--ease-standard);
    box-shadow: var(--shadow-sm);
}

.nav-button:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-md);
    border-color: var(--color-primary);
}

.nav-button .icon {
    font-size: 48px;
    margin-bottom: var(--space-12);
}

.nav-button h3 {
    font-size: var(--font-size-xl);
    margin-bottom: var(--space-8);
    color: var(--color-text);
}

.nav-button p {
    color: var(--color-text-secondary);
    font-size: var(--font-size-sm);
}

.stats-card {
    background: var(--color-bg-1);
    border: 1px solid var(--color-card-border);
    border-radius: var(--radius-lg);
    padding: var(--space-20);
    margin-bottom: var(--space-24);
}

.stats-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
    gap: var(--space-16);
}

.stat-item {
    text-align: center;
}

.stat-value {
    font-size: var(--font-size-3xl);
    font-weight: var(--font-weight-bold);
    color: var(--color-primary);
}

.stat-label {
    font-size: var(--font-size-sm);
    color: var(--color-text-secondary);
    margin-top: var(--space-4);
}

.back-button {
    background: var(--color-secondary);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-base);
    padding: var(--space-12) var(--space-20);
    margin-bottom: var(--space-20);
    cursor: pointer;
    font-size: var(--font-size-base);
    color: var(--color-text);
    transition: all var(--duration-fast) var(--ease-standard);
}

.back-button:hover {
    background: var(--color-secondary-hover);
}

.section-header {
    text-align: center;
    margin-bottom: var(--space-32);
}

.section-header h2 {
    font-size: var(--font-size-3xl);
    font-weight: var(--font-weight-bold);
    color: var(--color-text);
    margin-bottom: var(--space-8);
}

.cards-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: var(--space-20);
}

.info-card {
    background: var(--color-surface);
    border: 1px solid var(--color-card-border);
    border-radius: var(--radius-lg);
    padding: var(--space-24);
    cursor: pointer;
    transition: all var(--duration-normal) var(--ease-standard);
}

.info-card:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-md);
}

.info-card .icon {
    font-size: 40px;
    margin-bottom: var(--space-12);
}

.info-card h3 {
    font-size: var(--font-size-xl);
    margin-bottom: var(--space-12);
    color: var(--color-text);
}

.info-card p, .info-card ul {
    color: var(--color-text-secondary);
    line-height: 1.6;
}

.info-card ul {
    list-style-position: inside;
    padding-left: var(--space-12);
}

.info-card li {
    margin-bottom: var(--space-8);
}

.modal {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.7);
    z-index: 1000;
    align-items: center;
    justify-content: center;
    padding: var(--space-20);
}

.modal.active {
    display: flex;
}

.modal-content {
    background: var(--color-surface);
    border-radius: var(--radius-lg);
    padding: var(--space-32);
    max-width: 600px;
    max-height: 80vh;
    overflow-y: auto;
    box-shadow: var(--shadow-md);
}

.modal-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: var(--space-20);
}

.close-modal {
    background: none;
    border: none;
    font-size: var(--font-size-3xl);
    cursor: pointer;
    color: var(--color-text-secondary);
    width: 32px;
    height: 32px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.exercise-container {
    background: var(--color-surface);
    border: 1px solid var(--color-card-border);
    border-radius: var(--radius-lg);
    padding: var(--space-24);
    margin-bottom: var(--space-20);
}

.email-example {
    background: var(--color-bg-2);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-base);
    padding: var(--space-20);
    margin-bottom: var(--space-20);
}

.email-header {
    border-bottom: 1px solid var(--color-border);
    padding-bottom: var(--space-12);
    margin-bottom: var(--space-12);
}

.email-field {
    margin-bottom: var(--space-8);
    font-size: var(--font-size-sm);
}

.email-field strong {
    color: var(--color-text);
}

.email-body {
    line-height: 1.6;
    color: var(--color-text);
}

.clickable-element {
    display: inline;
    padding: var(--space-4) var(--space-8);
    background: rgba(255, 193, 7, 0.2);
    border-radius: var(--radius-sm);
    cursor: pointer;
    transition: all var(--duration-fast) var(--ease-standard);
}

.clickable-element:hover {
    background: rgba(255, 193, 7, 0.4);
}

.clickable-element.found {
    background: rgba(76, 175, 80, 0.3);
    cursor: default;
}

.feedback {
    margin-top: var(--space-20);
    padding: var(--space-16);
    border-radius: var(--radius-base);
    font-size: var(--font-size-base);
}

.feedback.success {
    background: rgba(var(--color-teal-500-rgb), 0.15);
    border: 1px solid rgba(var(--color-teal-500-rgb), 0.3);
    color: var(--color-success);
}

.feedback.error {
    background: rgba(var(--color-red-500-rgb), 0.15);
    border: 1px solid rgba(var(--color-red-500-rgb), 0.3);
    color: var(--color-error);
}

.url-check {
    display: grid;
    gap: var(--space-12);
}

.url-option {
    background: var(--color-surface);
    border: 2px solid var(--color-border);
    border-radius: var(--radius-base);
    padding: var(--space-16);
    cursor: pointer;
    transition: all var(--duration-fast) var(--ease-standard);
    font-family: monospace;
    font-size: var(--font-size-lg);
}

.url-option:hover {
    border-color: var(--color-primary);
    background: var(--color-bg-1);
}

.url-option.correct {
    border-color: var(--color-success);
    background: rgba(var(--color-teal-500-rgb), 0.1);
}

.url-option.incorrect {
    border-color: var(--color-error);
    background: rgba(var(--color-red-500-rgb), 0.1);
}

.sms-message {
    background: var(--color-bg-3);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-lg);
    padding: var(--space-20);
    margin-bottom: var(--space-20);
}

.sms-text {
    font-size: var(--font-size-base);
    line-height: 1.6;
    margin-bottom: var(--space-20);
    color: var(--color-text);
}

.answer-buttons {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: var(--space-12);
}

.answer-button {
    padding: var(--space-16);
    border: 2px solid var(--color-border);
    border-radius: var(--radius-base);
    background: var(--color-surface);
    cursor: pointer;
    font-size: var(--font-size-base);
    font-weight: var(--font-weight-medium);
    transition: all var(--duration-fast) var(--ease-standard);
}

.answer-button:hover {
    background: var(--color-bg-1);
    border-color: var(--color-primary);
}

.answer-button.phishing {
    color: var(--color-error);
}

.answer-button.safe {
    color: var(--color-success);
}

.next-button {
    background: var(--color-primary);
    color: var(--color-btn-primary-text);
    border: none;
    border-radius: var(--radius-base);
    padding: var(--space-12) var(--space-24);
    font-size: var(--font-size-base);
    font-weight: var(--font-weight-medium);
    cursor: pointer;
    transition: all var(--duration-fast) var(--ease-standard);
    margin-top: var(--space-20);
}

.next-button:hover {
    background: var(--color-primary-hover);
}

.test-container {
    background: var(--color-surface);
    border: 1px solid var(--color-card-border);
    border-radius: var(--radius-lg);
    padding: var(--space-24);
}

.test-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: var(--space-24);
    padding-bottom: var(--space-16);
    border-bottom: 2px solid var(--color-border);
}

.question-number {
    font-size: var(--font-size-lg);
    font-weight: var(--font-weight-bold);
    color: var(--color-text);
}

.timer {
    font-size: var(--font-size-2xl);
    font-weight: var(--font-weight-bold);
    color: var(--color-primary);
}

.timer.warning {
    color: var(--color-error);
    animation: pulse 1s infinite;
}

@keyframes pulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.5; }
}

.question-text {
    font-size: var(--font-size-xl);
    margin-bottom: var(--space-24);
    color: var(--color-text);
    line-height: 1.6;
}

.test-options {
    display: grid;
    gap: var(--space-12);
}

.test-option {
    background: var(--color-surface);
    border: 2px solid var(--color-border);
    border-radius: var(--radius-base);
    padding: var(--space-16);
    cursor: pointer;
    transition: all var(--duration-fast) var(--ease-standard);
    font-size: var(--font-size-base);
}

.test-option:hover {
    border-color: var(--color-primary);
    background: var(--color-bg-1);
}

.test-option.selected {
    border-color: var(--color-primary);
    background: rgba(var(--color-teal-500-rgb), 0.1);
}

.results-container {
    text-align: center;
    padding: var(--space-32);
}

.results-score {
    font-size: 72px;
    font-weight: var(--font-weight-bold);
    color: var(--color-primary);
    margin: var(--space-24) 0;
}

.results-level {
    font-size: var(--font-size-2xl);
    font-weight: var(--font-weight-bold);
    margin-bottom: var(--space-16);
    color: var(--color-text);
}

.results-details {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
    gap: var(--space-16);
    margin: var(--space-32) 0;
}

.result-item {
    background: var(--color-bg-2);
    border-radius: var(--radius-base);
    padding: var(--space-16);
}

.achievements-container {
    background: var(--color-surface);
    border: 1px solid var(--color-card-border);
    border-radius: var(--radius-lg);
    padding: var(--space-24);
    margin-bottom: var(--space-24);
}

.achievements-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: var(--space-16);
}

.achievement-card {
    background: var(--color-bg-5);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-base);
    padding: var(--space-16);
    text-align: center;
    opacity: 0.4;
    transition: all var(--duration-normal) var(--ease-standard);
}

.achievement-card.unlocked {
    opacity: 1;
    box-shadow: var(--shadow-md);
}

.achievement-icon {
    font-size: 48px;
    margin-bottom: var(--space-8);
}

.achievement-name {
    font-weight: var(--font-weight-bold);
    margin-bottom: var(--space-4);
    color: var(--color-text);
}

.achievement-desc {
    font-size: var(--font-size-sm);
    color: var(--color-text-secondary);
}

.progress-section {
    background: var(--color-surface);
    border: 1px solid var(--color-card-border);
    border-radius: var(--radius-lg);
    padding: var(--space-24);
    margin-bottom: var(--space-24);
}

.progress-section h3 {
    margin-bottom: var(--space-16);
    color: var(--color-text);
}

.progress-bars {
    display: grid;
    gap: var(--space-16);
}

.progress-item {
    margin-bottom: var(--space-16);
}

.progress-label {
    display: flex;
    justify-content: space-between;
    margin-bottom: var(--space-8);
    font-size: var(--font-size-sm);
    color: var(--color-text-secondary);
}

.progress-bar {
    height: 8px;
    background: var(--color-secondary);
    border-radius: var(--radius-full);
    overflow: hidden;
}

.progress-fill {
    height: 100%;
    background: var(--color-primary);
    transition: width var(--duration-normal) var(--ease-standard);
}

.reset-button {
    background: var(--color-error);
    color: var(--color-white);
    border: none;
    border-radius: var(--radius-base);
    padding: var(--space-12) var(--space-24);
    font-size: var(--font-size-base);
    cursor: pointer;
    transition: all var(--duration-fast) var(--ease-standard);
    margin-top: var(--space-16);
}

.reset-button:hover {
    opacity: 0.9;
}

@media (max-width: 768px) {
    .app-container {
        padding: var(--space-12);
    }
    
    .header h1 {
        font-size: var(--font-size-3xl);
    }
    
    .nav-buttons {
        grid-template-columns: 1fr;
    }
    
    .results-score {
        font-size: 56px;
    }
}
    </style>
</head>
<body>
    <div class="app-container">
        <!-- –ì–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω -->
        <div id="homeScreen" class="screen active">
            <div class="header">
                <h1>üõ°Ô∏è –¢—Ä–µ–Ω–∞–∂–µ—Ä –ø–æ –∑–∞—â–∏—Ç–µ –æ—Ç —Ñ–∏—à–∏–Ω–≥–∞</h1>
                <p>–ù–∞—É—á–∏—Å—å —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞—Ç—å –º–æ—à–µ–Ω–Ω–∏–∫–æ–≤ –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ</p>
            </div>

            <div id="homeStats" class="stats-card" style="display: none;">
                <h3 style="margin-bottom: var(--space-16); text-align: center;">–¢–≤–æ–π –ø—Ä–æ–≥—Ä–µ—Å—Å</h3>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="stat-value" id="totalExercises">0</div>
                        <div class="stat-label">–ó–∞–¥–∞–Ω–∏–π –≤—ã–ø–æ–ª–Ω–µ–Ω–æ</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="totalScore">0</div>
                        <div class="stat-label">–û—á–∫–æ–≤ –Ω–∞–±—Ä–∞–Ω–æ</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="successRate">0%</div>
                        <div class="stat-label">–ü—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤</div>
                    </div>
                </div>
            </div>

            <div class="nav-buttons">
                <div class="nav-button" onclick="showScreen('learningScreen')">
                    <div class="icon">üìö</div>
                    <h3>–û–±—É—á–µ–Ω–∏–µ</h3>
                    <p>–£–∑–Ω–∞–π –≤—Å—ë –æ —Ñ–∏—à–∏–Ω–≥–µ</p>
                </div>
                <div class="nav-button" onclick="showScreen('trainingScreen')">
                    <div class="icon">üí™</div>
                    <h3>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</h3>
                    <p>–ü—Ä–∞–∫—Ç–∏–∫–∞ –Ω–∞ –ø—Ä–∏–º–µ—Ä–∞—Ö</p>
                </div>
                <div class="nav-button" onclick="showScreen('testScreen')">
                    <div class="icon">‚úÖ</div>
                    <h3>–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ</h3>
                    <p>–ü—Ä–æ–≤–µ—Ä—å —Å–≤–æ–∏ –∑–Ω–∞–Ω–∏—è</p>
                </div>
                <div class="nav-button" onclick="showScreen('statsScreen')">
                    <div class="icon">üìä</div>
                    <h3>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h3>
                    <p>–ü–æ—Å–º–æ—Ç—Ä–∏ —Å–≤–æ–π –ø—Ä–æ–≥—Ä–µ—Å—Å</p>
                </div>
            </div>
        </div>

        <!-- –≠–∫—Ä–∞–Ω –æ–±—É—á–µ–Ω–∏—è -->
        <div id="learningScreen" class="screen">
            <button class="back-button" onclick="showScreen('homeScreen')">‚Üê –ù–∞–∑–∞–¥</button>
            <div class="section-header">
                <h2>üìö –û–±—É—á–µ–Ω–∏–µ</h2>
                <p>–ò–∑—É—á–∏ —Ç–µ–æ—Ä–∏—é, —á—Ç–æ–±—ã –∑–∞—â–∏—Ç–∏—Ç—å —Å–µ–±—è –æ—Ç –º–æ—à–µ–Ω–Ω–∏–∫–æ–≤</p>
            </div>

            <div class="cards-grid">
                <div class="info-card" onclick="showModal('whatIsPhishing')">
                    <div class="icon">üéØ</div>
                    <h3>–ß—Ç–æ —Ç–∞–∫–æ–µ —Ñ–∏—à–∏–Ω–≥?</h3>
                    <p>–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ, –∏—Å—Ç–æ—Ä–∏—è –∏ –∞–∫—Ç—É–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</p>
                </div>
                <div class="info-card" onclick="showModal('phishingTypes')">
                    <div class="icon">üì±</div>
                    <h3>–¢–∏–ø—ã —Ñ–∏—à–∏–Ω–≥–∞</h3>
                    <p>Email, SMS, –∑–≤–æ–Ω–∫–∏ –∏ –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä—ã</p>
                </div>
                <div class="info-card" onclick="showModal('phishingSigns')">
                    <div class="icon">üîç</div>
                    <h3>–ü—Ä–∏–∑–Ω–∞–∫–∏ —Ñ–∏—à–∏–Ω–≥–∞</h3>
                    <p>–ö–∞–∫ —Ä–∞—Å–ø–æ–∑–Ω–∞—Ç—å –º–æ—à–µ–Ω–Ω–∏—á–µ—Å–∫–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ</p>
                </div>
                <div class="info-card" onclick="showModal('protectionMethods')">
                    <div class="icon">üõ°Ô∏è</div>
                    <h3>–ú–µ—Ç–æ–¥—ã –∑–∞—â–∏—Ç—ã</h3>
                    <p>–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Å–æ–≤–µ—Ç—ã –ø–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏</p>
                </div>
            </div>
        </div>

        <!-- –≠–∫—Ä–∞–Ω —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ -->
        <div id="trainingScreen" class="screen">
            <button class="back-button" onclick="showScreen('homeScreen')">‚Üê –ù–∞–∑–∞–¥</button>
            <div class="section-header">
                <h2>üí™ –¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</h2>
                <p>–í—ã–±–µ—Ä–∏ —Ç–∏–ø –∑–∞–¥–∞–Ω–∏—è –¥–ª—è –ø—Ä–∞–∫—Ç–∏–∫–∏</p>
            </div>

            <div class="cards-grid">
                <div class="info-card" onclick="startExercise('email')">
                    <div class="icon">üìß</div>
                    <h3>–ê–Ω–∞–ª–∏–∑ Email</h3>
                    <p>–ù–∞–π–¥–∏ –ø—Ä–∏–∑–Ω–∞–∫–∏ —Ñ–∏—à–∏–Ω–≥–∞ –≤ –ø–∏—Å—å–º–∞—Ö</p>
                </div>
                <div class="info-card" onclick="startExercise('url')">
                    <div class="icon">üîó</div>
                    <h3>–ü—Ä–æ–≤–µ—Ä–∫–∞ URL</h3>
                    <p>–û—Ç–ª–∏—á–∏ –Ω–∞—Å—Ç–æ—è—â–∏–π –∞–¥—Ä–µ—Å –æ—Ç –ø–æ–¥–¥–µ–ª–∫–∏</p>
                </div>
                <div class="info-card" onclick="startExercise('sms')">
                    <div class="icon">üí¨</div>
                    <h3>SMS-—Å–æ–æ–±—â–µ–Ω–∏—è</h3>
                    <p>–û–ø—Ä–µ–¥–µ–ª–∏ –º–æ—à–µ–Ω–Ω–∏—á–µ—Å–∫–∏–µ SMS</p>
                </div>
            </div>
        </div>

        <!-- –≠–∫—Ä–∞–Ω —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π -->
        <div id="exerciseScreen" class="screen">
            <button class="back-button" onclick="showScreen('trainingScreen')">‚Üê –ù–∞–∑–∞–¥</button>
            <div id="exerciseContent"></div>
        </div>

        <!-- –≠–∫—Ä–∞–Ω —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è -->
        <div id="testScreen" class="screen">
            <button class="back-button" onclick="showScreen('homeScreen')">‚Üê –ù–∞–∑–∞–¥</button>
            <div class="section-header">
                <h2>‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ</h2>
                <p>–ü—Ä–æ–π–¥–∏ —Ç–µ—Å—Ç –∏–∑ 10 –≤–æ–ø—Ä–æ—Å–æ–≤ –∏ –ø—Ä–æ–≤–µ—Ä—å —Å–≤–æ–∏ –∑–Ω–∞–Ω–∏—è</p>
            </div>
            <button class="next-button" onclick="startTest()" style="display: block; margin: 0 auto;">–ù–∞—á–∞—Ç—å —Ç–µ—Å—Ç</button>
            <div id="testContent"></div>
        </div>

        <!-- –≠–∫—Ä–∞–Ω —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ -->
        <div id="statsScreen" class="screen">
            <button class="back-button" onclick="showScreen('homeScreen')">‚Üê –ù–∞–∑–∞–¥</button>
            <div class="section-header">
                <h2>üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h2>
                <p>–¢–≤–æ–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –∏ –ø—Ä–æ–≥—Ä–µ—Å—Å</p>
            </div>

            <div class="stats-card">
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="stat-value" id="statsExercises">0</div>
                        <div class="stat-label">–ó–∞–¥–∞–Ω–∏–π</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="statsScore">0</div>
                        <div class="stat-label">–û—á–∫–æ–≤</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="statsTests">0</div>
                        <div class="stat-label">–¢–µ—Å—Ç–æ–≤</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="statsRate">0%</div>
                        <div class="stat-label">–£—Å–ø–µ—à–Ω–æ—Å—Ç—å</div>
                    </div>
                </div>
            </div>

            <div class="progress-section">
                <h3>–ü—Ä–æ–≥—Ä–µ—Å—Å –ø–æ —Ç–∏–ø–∞–º –∑–∞–¥–∞–Ω–∏–π</h3>
                <div class="progress-bars">
                    <div class="progress-item">
                        <div class="progress-label">
                            <span>Email –∞–Ω–∞–ª–∏–∑</span>
                            <span id="emailProgress">0/10</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill" id="emailProgressBar" style="width: 0%"></div>
                        </div>
                    </div>
                    <div class="progress-item">
                        <div class="progress-label">
                            <span>URL –ø—Ä–æ–≤–µ—Ä–∫–∞</span>
                            <span id="urlProgress">0/10</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill" id="urlProgressBar" style="width: 0%"></div>
                        </div>
                    </div>
                    <div class="progress-item">
                        <div class="progress-label">
                            <span>SMS –∞–Ω–∞–ª–∏–∑</span>
                            <span id="smsProgress">0/10</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill" id="smsProgressBar" style="width: 0%"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="achievements-container">
                <h3 style="margin-bottom: var(--space-16);">–î–æ—Å—Ç–∏–∂–µ–Ω–∏—è</h3>
                <div class="achievements-grid" id="achievementsGrid"></div>
            </div>

            <button class="reset-button" onclick="resetProgress()">–°–±—Ä–æ—Å–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å</button>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ -->
    <div id="modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="modalTitle"></h2>
                <button class="close-modal" onclick="closeModal()">√ó</button>
            </div>
            <div id="modalBody"></div>
        </div>
    </div>

    <script>
        // –î–∞–Ω–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
        const appData = {
            statistics: {
                russia_growth: "425%",
                blocked_sites: "22000+",
                affected_users: "34%",
                global_growth: "33%"
            },
            phishingTypes: [
                { name: "Email-—Ñ–∏—à–∏–Ω–≥", icon: "üìß", description: "–ú–æ—à–µ–Ω–Ω–∏—á–µ—Å–∫–∏–µ –ø–∏—Å—å–º–∞ –æ—Ç –∏–º–µ–Ω–∏ –±–∞–Ω–∫–æ–≤, –∫–æ–º–ø–∞–Ω–∏–π" },
                { name: "–°–ú–ò–®–∏–Ω–≥", icon: "üì±", description: "–§–∏—à–∏–Ω–≥ —á–µ—Ä–µ–∑ SMS-—Å–æ–æ–±—â–µ–Ω–∏—è" },
                { name: "–í–∏—à–∏–Ω–≥", icon: "üìû", description: "–ì–æ–ª–æ—Å–æ–≤–æ–π —Ñ–∏—à–∏–Ω–≥ –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É" },
                { name: "–ú–µ—Å—Å–µ–Ω–¥–∂–µ—Ä—ã", icon: "üí¨", description: "–ê—Ç–∞–∫–∏ —á–µ—Ä–µ–∑ WhatsApp, Telegram, VK" }
            ],
            phishingSigns: [
                "–°—Ç—Ä–∞–Ω–Ω—ã–π –∞–¥—Ä–µ—Å –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è",
                "–ì—Ä–∞–º–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏ –≤ —Ç–µ–∫—Å—Ç–µ",
                "–£–≥—Ä–æ–∂–∞—é—â–∏–π –∏–ª–∏ —Å—Ä–æ—á–Ω—ã–π —Ç–æ–Ω",
                "–ü—Ä–æ—Å—å–±–∞ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å –ª–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ",
                "–ü–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Å—Å—ã–ª–∫–∏",
                "–ù–µ–æ–∂–∏–¥–∞–Ω–Ω—ã–µ –≤–ª–æ–∂–µ–Ω–∏—è",
                "–°–ª–∏—à–∫–æ–º —Ö–æ—Ä–æ—à–∏–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è",
                "–î–∞–≤–ª–µ–Ω–∏–µ –∏ –∑–∞–ø—É–≥–∏–≤–∞–Ω–∏–µ"
            ],
            protectionMethods: [
                "–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ URL –ø–µ—Ä–µ–¥ –ø–µ—Ä–µ—Ö–æ–¥–æ–º",
                "–ù–µ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç–µ –ø–æ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã–º —Å—Å—ã–ª–∫–∞–º",
                "–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥–≤—É—Ö—Ñ–∞–∫—Ç–æ—Ä–Ω—É—é –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é",
                "–û–±–Ω–æ–≤–ª—è–π—Ç–µ –∞–Ω—Ç–∏–≤–∏—Ä—É—Å",
                "–ë—É–¥—å—Ç–µ –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω—ã –∫ –¥–µ—Ç–∞–ª—è–º",
                "–ù–µ —Å–ø–µ—à–∏—Ç–µ —Å –æ—Ç–≤–µ—Ç–æ–º",
                "–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –∏–∑ –¥—Ä—É–≥–∏—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤",
                "–ó–≤–æ–Ω–∏—Ç–µ –≤ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—é –Ω–∞–ø—Ä—è–º—É—é"
            ],
            emailExamples: [
                {
                    subject: "–í–∞—à–∞ –∫–∞—Ä—Ç–∞ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∞",
                    from: "sberbank-security@gmail.com",
                    body: "–£–≤–∞–∂–∞–µ–º—ã–π –∫–ª–∏–µ–Ω—Ç! –û–±–Ω–∞—Ä—É–∂–µ–Ω–∞ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ –ø–æ —Å—Å—ã–ª–∫–µ –≤ —Ç–µ—á–µ–Ω–∏–µ 24 —á–∞—Å–æ–≤, –∏–Ω–∞—á–µ –∫–∞—Ä—Ç–∞ –±—É–¥–µ—Ç –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∞.",
                    url: "sber-bank-verify.com",
                    signs: ["–°—Ç—Ä–∞–Ω–Ω—ã–π –∞–¥—Ä–µ—Å –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è (gmail.com)", "–£–≥—Ä–æ–∂–∞—é—â–∏–π —Ç–æ–Ω", "–ü–æ–¥–¥–µ–ª—å–Ω—ã–π URL"]
                },
                {
                    subject: "–ì—Ä–∞—Ñ–∏–∫ –æ—Ç–ø—É—Å–∫–æ–≤ - —Å—Ä–æ—á–Ω–æ –ø–æ–¥–ø–∏—Å–∞—Ç—å",
                    from: "hr-department@company-mail.ru",
                    body: "–ö–æ–ª–ª–µ–≥–∏, –ø—Ä–æ—à—É –ø–æ–¥–ø–∏—Å–∞—Ç—å –≥—Ä–∞—Ñ–∏–∫ –æ—Ç–ø—É—Å–∫–æ–≤ –¥–æ –∫–æ–Ω—Ü–∞ –¥–Ω—è. –î–æ–∫—É–º–µ–Ω—Ç –≤–æ –≤–ª–æ–∂–µ–Ω–∏–∏.",
                    url: "dropbox-files-share.net/vacation.xlsx",
                    signs: ["–ü–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω–æ–µ –≤–ª–æ–∂–µ–Ω–∏–µ", "–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –¥–æ–º–µ–Ω", "–î–∞–≤–ª–µ–Ω–∏–µ —Å—Ä–æ—á–Ω–æ—Å—Ç—å—é"]
                },
                {
                    subject: "–í—ã –≤—ã–∏–≥—Ä–∞–ª–∏ 1 000 000 —Ä—É–±–ª–µ–π!",
                    from: "winner@lottery-2024.com",
                    body: "–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! –í–∞—à –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –≤—ã–∏–≥—Ä–∞–ª –≥–ª–∞–≤–Ω—ã–π –ø—Ä–∏–∑. –î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–µ—Ä–µ–π–¥–∏—Ç–µ –ø–æ —Å—Å—ã–ª–∫–µ –∏ —É–∫–∞–∂–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ –∫–∞—Ä—Ç—ã.",
                    url: "lottery-winner-claim.org",
                    signs: ["–°–ª–∏—à–∫–æ–º —Ö–æ—Ä–æ—à–µ–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ", "–ü—Ä–æ—Å—å–±–∞ —É–∫–∞–∑–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –∫–∞—Ä—Ç—ã", "–ü–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã–π –¥–æ–º–µ–Ω"]
                },
                {
                    subject: "–ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –∞–∫–∫–∞—É–Ω—Ç–∞ –ì–æ—Å—É—Å–ª—É–≥–∏",
                    from: "no-reply@gosuslugi-info.ru",
                    body: "–í–∞—à –∞–∫–∫–∞—É–Ω—Ç –±—É–¥–µ—Ç –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω –∏–∑-–∑–∞ –Ω–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –ª–∏—á–Ω–æ—Å—Ç—å –≤ —Ç–µ—á–µ–Ω–∏–µ 48 —á–∞—Å–æ–≤.",
                    url: "gosuslugi-verify.com",
                    signs: ["–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –¥–æ–º–µ–Ω (.com –≤–º–µ—Å—Ç–æ .ru)", "–ó–∞–ø—É–≥–∏–≤–∞–Ω–∏–µ", "–ü—Ä–æ—Å—å–±–∞ –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –ª–∏—á–Ω–æ—Å—Ç—å"]
                }
            ],
            urlExamples: [
                { real: "vk.com", fake: ["vkk.com", "v-k.com", "vkontakte.net"] },
                { real: "sberbank.ru", fake: ["sber-bank.ru", "sberbank-online.com", "sberbankk.ru"] },
                { real: "gosuslugi.ru", fake: ["gosuslugi-rf.ru", "gosuslugi.com", "gos-uslugi.ru"] }
            ],
            smsExamples: [
                {
                    text: "–í–∞—à–∞ –∫–∞—Ä—Ç–∞ –°–±–µ—Ä–±–∞–Ω–∫ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∞. –ü–æ–∑–≤–æ–Ω–∏—Ç–µ 8-800-XXX-XXXX",
                    isPhishing: true,
                    reason: "–ë–∞–Ω–∫–∏ –Ω–µ –±–ª–æ–∫–∏—Ä—É—é—Ç –∫–∞—Ä—Ç—ã —á–µ—Ä–µ–∑ SMS –∏ –Ω–µ –ø—Ä–æ—Å—è—Ç –∑–≤–æ–Ω–∏—Ç—å –ø–æ –Ω–µ–∑–Ω–∞–∫–æ–º—ã–º –Ω–æ–º–µ—Ä–∞–º"
                },
                {
                    text: "–í—ã –≤—ã–∏–≥—Ä–∞–ª–∏ iPhone 15! –ü–æ–ª—É—á–∏—Ç–µ –ø—Ä–∏–∑ –Ω–∞ —Å–∞–π—Ç–µ super-prize.ru",
                    isPhishing: true,
                    reason: "–ù–∏–∫—Ç–æ –Ω–µ –¥–∞—Ä–∏—Ç –¥–æ—Ä–æ–≥–∏–µ –ø—Ä–∏–∑—ã –ø—Ä–æ—Å—Ç–æ —Ç–∞–∫. –≠—Ç–æ –ø—Ä–∏–º–∞–Ω–∫–∞ –º–æ—à–µ–Ω–Ω–∏–∫–æ–≤"
                },
                {
                    text: "–ö–æ–¥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –¥–ª—è –≤—Ö–æ–¥–∞ –≤ –í–ö–æ–Ω—Ç–∞–∫—Ç–µ: 123456",
                    isPhishing: false,
                    reason: "–õ–µ–≥–∏—Ç–∏–º–Ω–æ–µ SMS —Å –∫–æ–¥–æ–º –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –æ—Ç –∏–∑–≤–µ—Å—Ç–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞"
                },
                {
                    text: "–ü–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è –ø–æ –≤–∞—à–µ–π –∫–∞—Ä—Ç–µ –Ω–∞ 50000—Ä. –î–ª—è –æ—Ç–º–µ–Ω—ã –ø–µ—Ä–µ–π–¥–∏—Ç–µ: bit.ly/cancel123",
                    isPhishing: true,
                    reason: "–ö–æ—Ä–æ—Ç–∫–∏–µ —Å—Å—ã–ª–∫–∏ —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è —Å–∫—Ä—ã—Ç–∏—è –º–æ—à–µ–Ω–Ω–∏—á–µ—Å–∫–∏—Ö —Å–∞–π—Ç–æ–≤"
                },
                {
                    text: "–í–∞—à –∑–∞–∫–∞–∑ ‚Ññ12345 –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω. –û—Ç—Å–ª–µ–¥–∏—Ç—å: cdek.ru/track/12345",
                    isPhishing: false,
                    reason: "–û—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ —Å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º –¥–æ–º–µ–Ω–æ–º —Å–ª—É–∂–±—ã –¥–æ—Å—Ç–∞–≤–∫–∏"
                }
            ],
            achievements: [
                { name: "–ü–µ—Ä–≤—ã–π —à–∞–≥", description: "–ü—Ä–æ–π–¥–µ–Ω–æ –ø–µ—Ä–≤–æ–µ –æ–±—É—á–µ–Ω–∏–µ", icon: "üéì", requirement: "learningSeen" },
                { name: "–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ –Ω–∞—á–∞–ª–∞—Å—å", description: "–í—ã–ø–æ–ª–Ω–µ–Ω–æ 10 –∑–∞–¥–∞–Ω–∏–π", icon: "üí™", requirement: "exercises10" },
                { name: "–û–ø—ã—Ç–Ω—ã–π –±–æ–µ—Ü", description: "–í—ã–ø–æ–ª–Ω–µ–Ω–æ 50 –∑–∞–¥–∞–Ω–∏–π", icon: "üõ°Ô∏è", requirement: "exercises50" },
                { name: "–ò–¥–µ–∞–ª—å–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç", description: "100% –≤ —Ç–µ—Å—Ç–µ", icon: "üèÜ", requirement: "perfectTest" }
            ]
        };

        // –°–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–∏—Å–ø–æ–ª—å–∑—É–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤–º–µ—Å—Ç–æ localStorage)
        let userProgress = {
            totalExercises: 0,
            totalScore: 0,
            correctAnswers: 0,
            totalAnswers: 0,
            testsCompleted: 0,
            exercisesByType: { email: 0, url: 0, sms: 0 },
            achievements: [],
            learningSeen: false
        };

        // –°–æ—Å—Ç–æ—è–Ω–∏–µ —Ç–µ—Å—Ç–∞
        let testState = {
            questions: [],
            currentQuestion: 0,
            answers: [],
            timeLeft: 30,
            timer: null
        };

        // –§—É–Ω–∫—Ü–∏–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
        function showScreen(screenId) {
            document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
            document.getElementById(screenId).classList.add('active');
            
            if (screenId === 'homeScreen') {
                updateHomeStats();
            } else if (screenId === 'statsScreen') {
                updateStatsScreen();
            }
        }

        function showModal(type) {
            const modal = document.getElementById('modal');
            const title = document.getElementById('modalTitle');
            const body = document.getElementById('modalBody');

            switch(type) {
                case 'whatIsPhishing':
                    title.textContent = 'üéØ –ß—Ç–æ —Ç–∞–∫–æ–µ —Ñ–∏—à–∏–Ω–≥?';
                    body.innerHTML = `
                        <p style="margin-bottom: var(--space-16); line-height: 1.6;"><strong>–§–∏—à–∏–Ω–≥</strong> ‚Äî —ç—Ç–æ –≤–∏–¥ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–æ—à–µ–Ω–Ω–∏—á–µ—Å—Ç–≤–∞, –ø—Ä–∏ –∫–æ—Ç–æ—Ä–æ–º –∑–ª–æ—É–º—ã—à–ª–µ–Ω–Ω–∏–∫–∏ –≤—ã–¥–∞—é—Ç —Å–µ–±—è –∑–∞ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ (–±–∞–Ω–∫–∏, –º–∞–≥–∞–∑–∏–Ω—ã, –≥–æ—Å—É—Å–ª—É–≥–∏) —Å —Ü–µ–ª—å—é –∫—Ä–∞–∂–∏ –ª–∏—á–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö, –ø–∞—Ä–æ–ª–µ–π –∏ –¥–µ–Ω–µ–≥.</p>
                        <h4 style="margin: var(--space-20) 0 var(--space-12) 0;">üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ 2024 –≥–æ–¥–∞:</h4>
                        <ul style="list-style-position: inside; line-height: 1.8;">
                            <li>–†–æ—Å—Ç —Ñ–∏—à–∏–Ω–≥–∞ –≤ –†–æ—Å—Å–∏–∏: <strong style="color: var(--color-error);">${appData.statistics.russia_growth}</strong></li>
                            <li>–ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ —Å–∞–π—Ç–æ–≤: <strong>${appData.statistics.blocked_sites}</strong></li>
                            <li>–ü–æ—Å—Ç—Ä–∞–¥–∞–≤—à–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π: <strong>${appData.statistics.affected_users}</strong></li>
                            <li>–ú–∏—Ä–æ–≤–æ–π —Ä–æ—Å—Ç: <strong>${appData.statistics.global_growth}</strong></li>
                        </ul>
                        <p style="margin-top: var(--space-16); padding: var(--space-16); background: var(--color-bg-4); border-radius: var(--radius-base); line-height: 1.6;">‚ö†Ô∏è <strong>–í–∞–∂–Ω–æ!</strong> –§–∏—à–∏–Ω–≥ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –≤—Å—ë –∏–∑–æ—â—Ä—ë–Ω–Ω–µ–µ. –ú–æ—à–µ–Ω–Ω–∏–∫–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç AI –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —É–±–µ–¥–∏—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–¥–¥–µ–ª–æ–∫ –ø–∏—Å–µ–º –∏ —Å–∞–π—Ç–æ–≤.</p>
                    `;
                    userProgress.learningSeen = true;
                    checkAchievements();
                    break;

                case 'phishingTypes':
                    title.textContent = 'üì± –¢–∏–ø—ã —Ñ–∏—à–∏–Ω–≥–∞';
                    body.innerHTML = `
                        <div style="display: grid; gap: var(--space-16);">
                            ${appData.phishingTypes.map(type => `
                                <div style="padding: var(--space-16); background: var(--color-bg-1); border-radius: var(--radius-base);">
                                    <div style="font-size: 32px; margin-bottom: var(--space-8);">${type.icon}</div>
                                    <h4 style="margin-bottom: var(--space-8);">${type.name}</h4>
                                    <p style="color: var(--color-text-secondary);">${type.description}</p>
                                </div>
                            `).join('')}
                        </div>
                    `;
                    break;

                case 'phishingSigns':
                    title.textContent = 'üîç –ü—Ä–∏–∑–Ω–∞–∫–∏ —Ñ–∏—à–∏–Ω–≥–∞';
                    body.innerHTML = `
                        <p style="margin-bottom: var(--space-16); line-height: 1.6;">–ù–∞ —ç—Ç–∏ –ø—Ä–∏–∑–Ω–∞–∫–∏ –Ω—É–∂–Ω–æ –æ–±—Ä–∞—â–∞—Ç—å –≤–Ω–∏–º–∞–Ω–∏–µ –≤ –ª—é–±—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏—è—Ö:</p>
                        <ul style="list-style-position: inside; line-height: 2;">
                            ${appData.phishingSigns.map(sign => `<li style="padding: var(--space-8) 0;">‚úì ${sign}</li>`).join('')}
                        </ul>
                        <p style="margin-top: var(--space-20); padding: var(--space-16); background: var(--color-bg-3); border-radius: var(--radius-base); line-height: 1.6;">üí° <strong>–°–æ–≤–µ—Ç:</strong> –ï—Å–ª–∏ –≤–∏–¥–∏—à—å —Ö–æ—Ç—è –±—ã 2-3 –ø—Ä–∏–∑–Ω–∞–∫–∞ ‚Äî —ç—Ç–æ –ø–æ–≤–æ–¥ –Ω–∞—Å—Ç–æ—Ä–æ–∂–∏—Ç—å—Å—è –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é!</p>
                    `;
                    break;

                case 'protectionMethods':
                    title.textContent = 'üõ°Ô∏è –ú–µ—Ç–æ–¥—ã –∑–∞—â–∏—Ç—ã';
                    body.innerHTML = `
                        <p style="margin-bottom: var(--space-16); line-height: 1.6;">–°–ª–µ–¥—É–π —ç—Ç–∏–º –ø—Ä–∞–≤–∏–ª–∞–º, —á—Ç–æ–±—ã –∑–∞—â–∏—Ç–∏—Ç—å —Å–µ–±—è:</p>
                        <ol style="list-style-position: inside; line-height: 2;">
                            ${appData.protectionMethods.map((method, i) => `
                                <li style="padding: var(--space-8) 0; margin-left: var(--space-8);">
                                    <strong>${i + 1}.</strong> ${method}
                                </li>
                            `).join('')}
                        </ol>
                        <p style="margin-top: var(--space-20); padding: var(--space-16); background: var(--color-bg-3); border-radius: var(--radius-base); line-height: 1.6;">üéØ <strong>–ì–ª–∞–≤–Ω–æ–µ –ø—Ä–∞–≤–∏–ª–æ:</strong> –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –∫–∞–∂–µ—Ç—Å—è –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã–º ‚Äî –æ–Ω–æ, —Å–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ, —Ç–∞–∫ –∏ –µ—Å—Ç—å. –î–æ–≤–µ—Ä—è–π —Å–≤–æ–µ–π –∏–Ω—Ç—É–∏—Ü–∏–∏!</p>
                    `;
                    break;
            }

            modal.classList.add('active');
        }

        function closeModal() {
            document.getElementById('modal').classList.remove('active');
        }

        // –£–ø—Ä–∞–∂–Ω–µ–Ω–∏—è
        let currentExercise = null;
        let currentExerciseIndex = 0;

        function startExercise(type) {
            currentExercise = type;
            currentExerciseIndex = 0;
            showScreen('exerciseScreen');
            loadExercise();
        }

        function loadExercise() {
            const content = document.getElementById('exerciseContent');
            
            switch(currentExercise) {
                case 'email':
                    loadEmailExercise(content);
                    break;
                case 'url':
                    loadUrlExercise(content);
                    break;
                case 'sms':
                    loadSmsExercise(content);
                    break;
            }
        }

        function loadEmailExercise(content) {
            const example = appData.emailExamples[currentExerciseIndex % appData.emailExamples.length];
            let foundSigns = [];

            content.innerHTML = `
                <div class="exercise-container">
                    <h3 style="margin-bottom: var(--space-16);">üìß –ù–∞–π–¥–∏ –ø—Ä–∏–∑–Ω–∞–∫–∏ —Ñ–∏—à–∏–Ω–≥–∞ –≤ –ø–∏—Å—å–º–µ</h3>
                    <p style="color: var(--color-text-secondary); margin-bottom: var(--space-20);">–ö–ª–∏–∫–Ω–∏ –Ω–∞ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –ø–∏—Å—å–º–∞</p>
                    
                    <div class="email-example">
                        <div class="email-header">
                            <div class="email-field">
                                <strong>–û—Ç:</strong> 
                                <span class="clickable-element" data-sign="0">${example.from}</span>
                            </div>
                            <div class="email-field">
                                <strong>–¢–µ–º–∞:</strong> ${example.subject}
                            </div>
                        </div>
                        <div class="email-body">
                            <p><span class="clickable-element" data-sign="1">${example.body}</span></p>
                            <p style="margin-top: var(--space-12);">
                                <strong>–°—Å—ã–ª–∫–∞:</strong> 
                                <span class="clickable-element" data-sign="2" style="color: var(--color-primary);">${example.url}</span>
                            </p>
                        </div>
                    </div>
                    
                    <div id="emailFeedback"></div>
                    <button class="next-button" onclick="nextExercise()" style="display: none;">–°–ª–µ–¥—É—é—â–µ–µ –∑–∞–¥–∞–Ω–∏–µ ‚Üí</button>
                </div>
            `;

            document.querySelectorAll('.clickable-element').forEach(el => {
                el.addEventListener('click', function() {
                    if (this.classList.contains('found')) return;
                    
                    this.classList.add('found');
                    const signIndex = parseInt(this.getAttribute('data-sign'));
                    foundSigns.push(signIndex);
                    
                    const feedback = document.getElementById('emailFeedback');
                    feedback.innerHTML = `
                        <div class="feedback success">
                            ‚úì –ü—Ä–∞–≤–∏–ª—å–Ω–æ! ${example.signs[signIndex]}
                        </div>
                    `;

                    if (foundSigns.length >= 3) {
                        userProgress.totalExercises++;
                        userProgress.totalScore += 10;
                        userProgress.correctAnswers++;
                        userProgress.totalAnswers++;
                        userProgress.exercisesByType.email++;
                        checkAchievements();
                        
                        feedback.innerHTML += `
                            <div class="feedback success" style="margin-top: var(--space-12);">
                                üéâ –û—Ç–ª–∏—á–Ω–æ! –¢—ã –Ω–∞—à—ë–ª –≤—Å–µ –ø—Ä–∏–∑–Ω–∞–∫–∏ —Ñ–∏—à–∏–Ω–≥–∞! +10 –æ—á–∫–æ–≤
                            </div>
                        `;
                        document.querySelector('.next-button').style.display = 'block';
                    }
                });
            });
        }

        function loadUrlExercise(content) {
            const example = appData.urlExamples[currentExerciseIndex % appData.urlExamples.length];
            const allUrls = [example.real, ...example.fake].sort(() => Math.random() - 0.5);

            content.innerHTML = `
                <div class="exercise-container">
                    <h3 style="margin-bottom: var(--space-16);">üîó –ù–∞–π–¥–∏ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π URL</h3>
                    <p style="color: var(--color-text-secondary); margin-bottom: var(--space-20);">–ö–∞–∫–æ–π –∏–∑ —ç—Ç–∏—Ö –∞–¥—Ä–µ—Å–æ–≤ –Ω–∞—Å—Ç–æ—è—â–∏–π?</p>
                    
                    <div class="url-check" id="urlOptions">
                        ${allUrls.map(url => `
                            <div class="url-option" data-url="${url}" onclick="checkUrl('${url}', '${example.real}')">
                                ${url}
                            </div>
                        `).join('')}
                    </div>
                    
                    <div id="urlFeedback"></div>
                    <button class="next-button" onclick="nextExercise()" style="display: none;">–°–ª–µ–¥—É—é—â–µ–µ –∑–∞–¥–∞–Ω–∏–µ ‚Üí</button>
                </div>
            `;
        }

        function checkUrl(selected, correct) {
            const feedback = document.getElementById('urlFeedback');
            const options = document.querySelectorAll('.url-option');
            
            options.forEach(opt => opt.style.pointerEvents = 'none');
            
            if (selected === correct) {
                document.querySelector(`[data-url="${selected}"]`).classList.add('correct');
                feedback.innerHTML = `
                    <div class="feedback success">
                        ‚úì –ü—Ä–∞–≤–∏–ª—å–Ω–æ! –≠—Ç–æ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π –∞–¥—Ä–µ—Å. +10 –æ—á–∫–æ–≤
                    </div>
                `;
                userProgress.totalExercises++;
                userProgress.totalScore += 10;
                userProgress.correctAnswers++;
                userProgress.totalAnswers++;
                userProgress.exercisesByType.url++;
                checkAchievements();
            } else {
                document.querySelector(`[data-url="${selected}"]`).classList.add('incorrect');
                document.querySelector(`[data-url="${correct}"]`).classList.add('correct');
                feedback.innerHTML = `
                    <div class="feedback error">
                        ‚úó –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ. –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –∞–¥—Ä–µ—Å: <strong>${correct}</strong><br>
                        –û–±—Ä–∞—Ç–∏ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ –Ω–∞–ø–∏—Å–∞–Ω–∏–µ –¥–æ–º–µ–Ω–∞!
                    </div>
                `;
                userProgress.totalExercises++;
                userProgress.totalScore -= 5;
                userProgress.totalAnswers++;
                userProgress.exercisesByType.url++;
            }
            
            document.querySelector('.next-button').style.display = 'block';
        }

        function loadSmsExercise(content) {
            const example = appData.smsExamples[currentExerciseIndex % appData.smsExamples.length];

            content.innerHTML = `
                <div class="exercise-container">
                    <h3 style="margin-bottom: var(--space-16);">üí¨ –≠—Ç–æ —Ñ–∏—à–∏–Ω–≥ –∏–ª–∏ –Ω–µ—Ç?</h3>
                    <p style="color: var(--color-text-secondary); margin-bottom: var(--space-20);">–ü—Ä–æ—á–∏—Ç–∞–π SMS –∏ –æ–ø—Ä–µ–¥–µ–ª–∏, –º–æ–∂–Ω–æ –ª–∏ –µ–º—É –¥–æ–≤–µ—Ä—è—Ç—å</p>
                    
                    <div class="sms-message">
                        <div class="sms-text">${example.text}</div>
                        <div class="answer-buttons" id="smsButtons">
                            <button class="answer-button phishing" onclick="checkSms(true, ${example.isPhishing})">
                                ‚ö†Ô∏è –≠—Ç–æ —Ñ–∏—à–∏–Ω–≥
                            </button>
                            <button class="answer-button safe" onclick="checkSms(false, ${example.isPhishing})">
                                ‚úì –ë–µ–∑–æ–ø–∞—Å–Ω–æ
                            </button>
                        </div>
                    </div>
                    
                    <div id="smsFeedback"></div>
                    <button class="next-button" onclick="nextExercise()" style="display: none;">–°–ª–µ–¥—É—é—â–µ–µ –∑–∞–¥–∞–Ω–∏–µ ‚Üí</button>
                </div>
            `;
        }

        function checkSms(userAnswer, correct) {
            const feedback = document.getElementById('smsFeedback');
            const buttons = document.querySelectorAll('#smsButtons button');
            const example = appData.smsExamples[currentExerciseIndex % appData.smsExamples.length];
            
            buttons.forEach(btn => btn.disabled = true);
            
            if (userAnswer === correct) {
                feedback.innerHTML = `
                    <div class="feedback success">
                        ‚úì –ü—Ä–∞–≤–∏–ª—å–Ω–æ! ${example.reason}<br>
                        +10 –æ—á–∫–æ–≤
                    </div>
                `;
                userProgress.totalExercises++;
                userProgress.totalScore += 10;
                userProgress.correctAnswers++;
                userProgress.totalAnswers++;
                userProgress.exercisesByType.sms++;
                checkAchievements();
            } else {
                feedback.innerHTML = `
                    <div class="feedback error">
                        ‚úó –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ. ${example.reason}
                    </div>
                `;
                userProgress.totalExercises++;
                userProgress.totalScore -= 5;
                userProgress.totalAnswers++;
                userProgress.exercisesByType.sms++;
            }
            
            document.querySelector('.next-button').style.display = 'block';
        }

        function nextExercise() {
            currentExerciseIndex++;
            loadExercise();
        }

        // –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
        function startTest() {
            testState.questions = generateTestQuestions();
            testState.currentQuestion = 0;
            testState.answers = [];
            
            document.querySelector('#testScreen .next-button').style.display = 'none';
            showTestQuestion();
        }

        function generateTestQuestions() {
            const questions = [];
            
            // Email –≤–æ–ø—Ä–æ—Å—ã
            appData.emailExamples.slice(0, 3).forEach((email, i) => {
                questions.push({
                    type: 'email',
                    question: `–ü–∏—Å—å–º–æ —Å —Ç–µ–º–æ–π "${email.subject}" –æ—Ç ${email.from}. –≠—Ç–æ —Ñ–∏—à–∏–Ω–≥?`,
                    options: ['–î–∞, —ç—Ç–æ —Ñ–∏—à–∏–Ω–≥', '–ù–µ—Ç, —ç—Ç–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ'],
                    correct: 0,
                    explanation: `–≠—Ç–æ —Ñ–∏—à–∏–Ω–≥: ${email.signs.join(', ')}`
                });
            });

            // URL –≤–æ–ø—Ä–æ—Å—ã
            appData.urlExamples.forEach(url => {
                const fakeUrl = url.fake[Math.floor(Math.random() * url.fake.length)];
                questions.push({
                    type: 'url',
                    question: `–ö–∞–∫–æ–π URL –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –¥–ª—è –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–≥–æ —Å–∞–π—Ç–∞?`,
                    options: [url.real, fakeUrl],
                    correct: 0,
                    explanation: `–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –∞–¥—Ä–µ—Å: ${url.real}`
                });
            });

            // SMS –≤–æ–ø—Ä–æ—Å—ã
            appData.smsExamples.slice(0, 4).forEach(sms => {
                questions.push({
                    type: 'sms',
                    question: sms.text,
                    options: ['–≠—Ç–æ —Ñ–∏—à–∏–Ω–≥', '–≠—Ç–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ'],
                    correct: sms.isPhishing ? 0 : 1,
                    explanation: sms.reason
                });
            });

            return questions.sort(() => Math.random() - 0.5).slice(0, 10);
        }

        function showTestQuestion() {
            if (testState.currentQuestion >= testState.questions.length) {
                showTestResults();
                return;
            }

            const question = testState.questions[testState.currentQuestion];
            testState.timeLeft = 30;
            
            const content = document.getElementById('testContent');
            content.innerHTML = `
                <div class="test-container">
                    <div class="test-header">
                        <div class="question-number">–í–æ–ø—Ä–æ—Å ${testState.currentQuestion + 1} –∏–∑ ${testState.questions.length}</div>
                        <div class="timer" id="timer">30</div>
                    </div>
                    <div class="question-text">${question.question}</div>
                    <div class="test-options" id="testOptions">
                        ${question.options.map((option, i) => `
                            <div class="test-option" onclick="selectAnswer(${i})" data-option="${i}">
                                ${option}
                            </div>
                        `).join('')}
                    </div>
                    <button class="next-button" onclick="submitAnswer()" style="display: none;">–î–∞–ª–µ–µ ‚Üí</button>
                </div>
            `;

            startTimer();
        }

        function startTimer() {
            clearInterval(testState.timer);
            
            testState.timer = setInterval(() => {
                testState.timeLeft--;
                const timerEl = document.getElementById('timer');
                if (timerEl) {
                    timerEl.textContent = testState.timeLeft;
                    if (testState.timeLeft <= 10) {
                        timerEl.classList.add('warning');
                    }
                }

                if (testState.timeLeft <= 0) {
                    clearInterval(testState.timer);
                    testState.answers.push({ selected: -1, correct: false });
                    testState.currentQuestion++;
                    showTestQuestion();
                }
            }, 1000);
        }

        function selectAnswer(index) {
            document.querySelectorAll('.test-option').forEach(opt => {
                opt.classList.remove('selected');
            });
            document.querySelector(`[data-option="${index}"]`).classList.add('selected');
            document.querySelector('#testContent .next-button').style.display = 'block';
            testState.selectedAnswer = index;
        }

        function submitAnswer() {
            clearInterval(testState.timer);
            
            const question = testState.questions[testState.currentQuestion];
            const correct = testState.selectedAnswer === question.correct;
            
            testState.answers.push({
                selected: testState.selectedAnswer,
                correct: correct
            });

            if (correct) {
                userProgress.correctAnswers++;
            }
            userProgress.totalAnswers++;

            testState.currentQuestion++;
            testState.selectedAnswer = null;
            
            setTimeout(() => showTestQuestion(), 500);
        }

        function showTestResults() {
            const correctCount = testState.answers.filter(a => a.correct).length;
            const percentage = Math.round((correctCount / testState.questions.length) * 100);
            
            let level = '–ù–æ–≤–∏—á–æ–∫';
            if (percentage >= 90) level = '–≠–∫—Å–ø–µ—Ä—Ç';
            else if (percentage >= 70) level = '–û–ø—ã—Ç–Ω—ã–π';

            userProgress.testsCompleted++;
            userProgress.totalScore += correctCount * 10;
            
            if (percentage === 100) {
                if (!userProgress.achievements.includes('perfectTest')) {
                    userProgress.achievements.push('perfectTest');
                }
            }
            
            checkAchievements();

            const content = document.getElementById('testContent');
            content.innerHTML = `
                <div class="results-container">
                    <h3>üéâ –¢–µ—Å—Ç –∑–∞–≤–µ—Ä—à—ë–Ω!</h3>
                    <div class="results-score">${percentage}%</div>
                    <div class="results-level">–£—Ä–æ–≤–µ–Ω—å: ${level}</div>
                    
                    <div class="results-details">
                        <div class="result-item">
                            <div style="font-size: var(--font-size-3xl); font-weight: var(--font-weight-bold); color: var(--color-success);">${correctCount}</div>
                            <div style="color: var(--color-text-secondary); margin-top: var(--space-4);">–ü—Ä–∞–≤–∏–ª—å–Ω–æ</div>
                        </div>
                        <div class="result-item">
                            <div style="font-size: var(--font-size-3xl); font-weight: var(--font-weight-bold); color: var(--color-error);">${testState.questions.length - correctCount}</div>
                            <div style="color: var(--color-text-secondary); margin-top: var(--space-4);">–û—à–∏–±–æ–∫</div>
                        </div>
                        <div class="result-item">
                            <div style="font-size: var(--font-size-3xl); font-weight: var(--font-weight-bold); color: var(--color-primary);">+${correctCount * 10}</div>
                            <div style="color: var(--color-text-secondary); margin-top: var(--space-4);">–û—á–∫–æ–≤</div>
                        </div>
                    </div>

                    <button class="next-button" onclick="startTest()" style="margin: var(--space-20) auto 0;">–ü—Ä–æ–π—Ç–∏ –µ—â—ë —Ä–∞–∑</button>
                    <button class="back-button" onclick="showScreen('homeScreen')" style="display: block; margin: var(--space-12) auto 0;">–ù–∞ –≥–ª–∞–≤–Ω—É—é</button>
                </div>
            `;
        }

        // –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è
        function updateHomeStats() {
            if (userProgress.totalExercises > 0) {
                document.getElementById('homeStats').style.display = 'block';
                document.getElementById('totalExercises').textContent = userProgress.totalExercises;
                document.getElementById('totalScore').textContent = userProgress.totalScore;
                const rate = userProgress.totalAnswers > 0 ? 
                    Math.round((userProgress.correctAnswers / userProgress.totalAnswers) * 100) : 0;
                document.getElementById('successRate').textContent = rate + '%';
            }
        }

        function updateStatsScreen() {
            document.getElementById('statsExercises').textContent = userProgress.totalExercises;
            document.getElementById('statsScore').textContent = userProgress.totalScore;
            document.getElementById('statsTests').textContent = userProgress.testsCompleted;
            const rate = userProgress.totalAnswers > 0 ? 
                Math.round((userProgress.correctAnswers / userProgress.totalAnswers) * 100) : 0;
            document.getElementById('statsRate').textContent = rate + '%';

            // –ü—Ä–æ–≥—Ä–µ—Å—Å –ø–æ —Ç–∏–ø–∞–º
            updateProgressBar('email', userProgress.exercisesByType.email);
            updateProgressBar('url', userProgress.exercisesByType.url);
            updateProgressBar('sms', userProgress.exercisesByType.sms);

            // –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è
            const grid = document.getElementById('achievementsGrid');
            grid.innerHTML = appData.achievements.map(ach => {
                const unlocked = isAchievementUnlocked(ach.requirement);
                return `
                    <div class="achievement-card ${unlocked ? 'unlocked' : ''}">
                        <div class="achievement-icon">${ach.icon}</div>
                        <div class="achievement-name">${ach.name}</div>
                        <div class="achievement-desc">${ach.description}</div>
                    </div>
                `;
            }).join('');
        }

        function updateProgressBar(type, count) {
            const max = 10;
            const percentage = Math.min((count / max) * 100, 100);
            document.getElementById(`${type}Progress`).textContent = `${count}/${max}`;
            document.getElementById(`${type}ProgressBar`).style.width = percentage + '%';
        }

        function isAchievementUnlocked(requirement) {
            switch(requirement) {
                case 'learningSeen':
                    return userProgress.learningSeen;
                case 'exercises10':
                    return userProgress.totalExercises >= 10;
                case 'exercises50':
                    return userProgress.totalExercises >= 50;
                case 'perfectTest':
                    return userProgress.achievements.includes('perfectTest');
                default:
                    return false;
            }
        }

        function checkAchievements() {
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –∑–∞ 10 –∑–∞–¥–∞–Ω–∏–π
            if (userProgress.totalExercises >= 10 && !userProgress.achievements.includes('exercises10')) {
                userProgress.achievements.push('exercises10');
            }
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –∑–∞ 50 –∑–∞–¥–∞–Ω–∏–π
            if (userProgress.totalExercises >= 50 && !userProgress.achievements.includes('exercises50')) {
                userProgress.achievements.push('exercises50');
            }
        }

        function resetProgress() {
            if (confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —Å–±—Ä–æ—Å–∏—Ç—å –≤–µ—Å—å –ø—Ä–æ–≥—Ä–µ—Å—Å?')) {
                userProgress = {
                    totalExercises: 0,
                    totalScore: 0,
                    correctAnswers: 0,
                    totalAnswers: 0,
                    testsCompleted: 0,
                    exercisesByType: { email: 0, url: 0, sms: 0 },
                    achievements: [],
                    learningSeen: false
                };
                updateStatsScreen();
                updateHomeStats();
            }
        }

        // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –ø—Ä–∏ –∫–ª–∏–∫–µ –≤–Ω–µ –µ–≥–æ
        document.getElementById('modal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeModal();
            }
        });

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        updateHomeStats();
    </script>
</body>
</html>